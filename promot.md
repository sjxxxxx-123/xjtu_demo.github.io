# Role: 资深全栈游戏开发者 (HTML5/JS Expert)

# Project: XJTU本科模拟器 (XJTU Undergraduate Simulator)

## 1. 项目概述
请基于 HTML + CSS + JavaScript 开发一款文字模拟经营游戏。
* **核心目标**：模拟西安交通大学（XJTU）本科生4年的真实生活。玩家需要在48个月内平衡GPA（学业）、SAN值（精神健康）、综测分（德育/社交）和金钱，达成毕业结局。
* **技术要求**：
    * **UI风格**：交大蓝（#003E7E）为主色调，轻快活泼，禁止使用原生 `alert()`，所有交互必须使用自定义美化的 Modal 弹窗。
    * **响应式布局**：适配移动端和PC端。

## 2. 核心数值系统 (Stats)
初始化如下属性（范围0-100）：
* **GPA**：初始 3.0 (显示为 x.xx/4.3)。核心通关指标。
* **SAN值**：初始 80/100。归零触发“休学/抑郁”失败结局。
* **体力**：初始 10/10。每月回复满。所有行动消耗体力。
* **综测分**：初始 60。影响奖学金和保研。
* **金币**：初始 1000。每月发放生活费。
* **智力/知识点**：隐藏属性，每门课单独累计，决定考试成绩。

## 3. 角色与书院系统 (Character & College)
**3.1 出身背景（开局选择）**
* **萌新小白**：无修正。
* **少年班神童**：GPA初始3.5，学习效率+20%，社交-10。
* **钱班大佬**：全属性+5，但挂科阈值提高（卷王模式）。
* **富家子弟**：金币初始+2000，每月生活费翻倍。

**3.2 书院系统（核心玩法 - 必选）**
开局需选择书院，获得独特Buff/Debuff：
* **彭康书院**：
    * 【地利人和】：离教室近，"去上课"体力消耗-1。
    * 【设施老旧】：夏季（6-8月）每月SAN值额外-2。
    * 【太极宗师】：解锁成就条件"在彭康大广场打太极"。
* **文治书院**：
    * 【一等文治】：综测初始+5。
    * 【文治小澡堂】：独有"去小澡堂"选项，SAN回复翻倍。
    * 【西区遥远】：去东区上课有5%概率迟到（扣除本次学习收益）。
* **仲英书院**：
    * 【志愿先锋】：所有综测获取效率+50%。
    * 【工时压力】：每学年必须消耗5点体力做义工，否则综测清零。
    * 【品阁自习】：独有"去品阁"自习选项，效率+15%。
* **南洋书院**：
    * 【卷王之王】：GPA增长速度+20%。
    * 【脱发危机】：每学期随机扣除魅力值或增加社交难度。
    * 【东13传说】：在东13自习概率触发"保研加成"。

## 4. 核心游戏循环 (Game Loop)
游戏以"月"为单位，每年12个月，共4年。

**4.1 课程与考试机制（硬核模式）**
* **学期制**：
    * 春/秋学期：普通上课。
    * **小学期（强制剧情）**：每年7月固定进入。无法自由活动，强制进行"工程训练"或"英语集训"。消耗体力，增加少量学分，但这期间SAN值下降较快（酷热难耐）。
* **考试判定（严格关联）**：
    * 每门课设定一个`Mastery`（掌握度）。
    * `Mastery = (去上课次数 * 5) + (去自习次数 * 3) + 随机浮动`。
    * 期末考试时，若 `Mastery < 60`，**大概率挂科**（不是纯随机）。
    * 挂科后果：GPA大跌，需重修（占用下学期体力）。

**4.2 行动指令 (Actions)**
* **去上课**：消耗体力，增加当前课程Mastery。
* **去自习**：消耗体力，大幅增加Mastery，SAN-2。
    * *地点选择*：钱学森图书馆（效果好人多）、主楼（普通）、**书院专属自习室**（书院Buff加成）。
* **搞社团/志愿**：消耗体力，加综测，SAN+3。
* **生活/娱乐**：消耗金币，回SAN。
    * *选项*：康桥苑吃饭、去兴庆宫划船、**去小澡堂（文治限定）**。
* **恋爱/社交（轻量级系统）**：
    * 当社交/魅力达到一定数值解锁。
    * *交互*：表白、约会。
    * *约会地点*：主楼E顶楼（浪漫+SAN）、樱花道（季节限定）、腾飞塔下。
    * *效果*：成功脱单获得【丘比特之箭】成就，每回合SAN自动回复+1，但金币消耗增加。

## 5. 随机事件与成就库 (Achievements)
必须完整实现以下成就逻辑（检测到条件自动弹窗点亮）：
* **【战争迷雾】**：在主楼（中心楼）迷路并迟到。
* **【小资情调】**：去梧桐三楼咖啡馆消费。
* **【无限循环】**：买旧书又卖出。
* **【书院过客】**：根据书院不同触发（在仲英品阁自习/在文治洗澡/在彭康打太极）。
* **【把主楼炸了建澡堂】**：洗澡排队超过3次触发。
* **【艾泽拉斯的动物使者】**：遇见流浪猫/刺猬。
* **【勺中乾坤】**：在四大发明广场看勺子。
* **【我记得我骑的是自行车】**：经过减速带SAN值大幅波动。
* **【二次西迁】**：大四时强制触发，背景切换为创新港，增加"进城难"Debuff（外出消耗金币增加）。

## 6. 结局系统 (Endings)
* **光荣肄业**：挂科 > 5门 或 SAN <= 0。
* **普通打工人**：正常毕业。
* **保研本校**：GPA > 3.5 + 综测 > 80。
* **六边形战士/国奖大神**：GPA > 4.0 + 综测 > 95 + 获得过国家奖学金。
* **西迁传人**：达成特殊剧情（支教/选调）。

## 7. 补充逻辑细节
1.  **大四机制**：大四场景切换至"创新港"，取消常规上课，改为"毕设模式"（类似科研进度条）。
2.  **挂科处理**：挂科后必须在下学期选择"重修"，占用体力槽，形成恶性循环，模拟真实压力。

请先输出游戏的代码结构设计，确认无误后开始编写 HTML/JS 代码。
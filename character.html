<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ›å»ºè§’è‰² - XJTUæœ¬ç§‘æ¨¡æ‹Ÿå™¨</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- è§’è‰²åˆ›å»ºç•Œé¢ -->
    <div id="character-screen" class="screen active">
        <div class="character-container">
            <h2>åˆ›å»ºä½ çš„è§’è‰²</h2>
            
            <!-- å‡ºèº«èƒŒæ™¯é€‰æ‹© -->
            <div class="selection-section">
                <h3>é€‰æ‹©å‡ºèº«èƒŒæ™¯</h3>
                <div class="option-grid" id="background-options">
                    <div class="option-card" data-value="normal">
                        <div class="option-icon">ğŸŒ±</div>
                        <div class="option-name">èŒæ–°å°ç™½</div>
                        <div class="option-desc">æ— ä¿®æ­£ï¼Œå¹³è¡¡å¼€å±€</div>
                    </div>
                    <div class="option-card" data-value="prodigy">
                        <div class="option-icon">ğŸ§’</div>
                        <div class="option-name">å°‘å¹´ç­ç¥ç«¥</div>
                        <div class="option-desc">GPA 3.5èµ·æ­¥ï¼Œå­¦ä¹ +20%ï¼Œç¤¾äº¤-10</div>
                    </div>
                    <div class="option-card" data-value="qianban">
                        <div class="option-icon">ğŸ“š</div>
                        <div class="option-name">é’±ç­å¤§ä½¬</div>
                        <div class="option-desc">å…¨å±æ€§+5ï¼Œå·ç‹æ¨¡å¼ï¼ˆæŒ‚ç§‘é˜ˆå€¼æé«˜ï¼‰</div>
                    </div>
                    <div class="option-card" data-value="rich">
                        <div class="option-icon">ğŸ’°</div>
                        <div class="option-name">å¯Œå®¶å­å¼Ÿ</div>
                        <div class="option-desc">é‡‘å¸+2000ï¼Œæ¯æœˆç”Ÿæ´»è´¹ç¿»å€</div>
                    </div>
                </div>
            </div>

            <!-- ä¹¦é™¢é€‰æ‹© -->
            <div class="selection-section">
                <h3>é€‰æ‹©ä¹¦é™¢</h3>
                <div class="option-grid" id="college-options">
                    <div class="option-card" data-value="pengkang">
                        <div class="option-icon">ğŸ›ï¸</div>
                        <div class="option-name">å½­åº·ä¹¦é™¢</div>
                        <div class="option-desc">
                            <span class="buff">ã€çš‡å®¶åœ°ç†ã€‘ä¸Šè¯¾ä½“åŠ›-1</span>
                            <span class="debuff">ã€å†å²æ²‰æ·€ã€‘å¤å­£SANä¸‹é™+20%</span>
                        </div>
                    </div>
                    <div class="option-card" data-value="wenzhi">
                        <div class="option-icon">ğŸ«</div>
                        <div class="option-name">æ–‡æ²»ä¹¦é™¢</div>
                        <div class="option-desc">
                            <span class="buff">ã€ä¸€ç­‰æ–‡æ²»ã€‘ç»¼æµ‹+10</span>
                            <span class="buff">ã€æ¾¡å ‚ç‰¹æƒã€‘æ´—æ¾¡SANÃ—2</span>
                            <span class="debuff">ã€è¥¿åŒºé¥è¿œã€‘5%è¿Ÿåˆ°</span>
                        </div>
                    </div>
                    <div class="option-card" data-value="zhongying">
                        <div class="option-icon">ğŸ¤</div>
                        <div class="option-name">ä»²è‹±ä¹¦é™¢</div>
                        <div class="option-desc">
                            <span class="buff">ã€è‹±ä»”ä¹‰å·¥ã€‘å¿—æ„¿æ”¶ç›Š+100%</span>
                            <span class="debuff">ã€å·¥æ—¶åœ°ç‹±ã€‘æ¯å­¦æœŸæ¶ˆè€—3ä½“åŠ›ä¹‰å·¥</span>
                        </div>
                    </div>
                    <div class="option-card" data-value="nanyang">
                        <div class="option-icon">ğŸ¯</div>
                        <div class="option-name">å—æ´‹ä¹¦é™¢</div>
                        <div class="option-desc">
                            <span class="buff">ã€ç¡¬æ ¸å·¥ç§‘ã€‘GPA+15%</span>
                            <span class="debuff">ã€13æ¥¼ä¼ è¯´ã€‘æ·±å¤œè‡ªä¹ SAN-3</span>
                        </div>
                    </div>
                    <div class="option-card" data-value="chongshi">
                        <div class="option-icon">ğŸ¨</div>
                        <div class="option-name">å´‡å®ä¹¦é™¢</div>
                        <div class="option-desc">
                            <span class="buff">ã€æ–‡æ³•è‰ºæœ¯ã€‘é­…åŠ›+20</span>
                            <span class="buff">ã€ä¸­æ¥¼æ²™é¾™ã€‘ç¤¾äº¤ä½“åŠ›-1</span>
                        </div>
                    </div>
                    <div class="option-card" data-value="lizhi">
                        <div class="option-icon">ğŸ”¬</div>
                        <div class="option-name">åŠ±å¿—ä¹¦é™¢</div>
                        <div class="option-desc">
                            <span class="buff">ã€ç†å­¦åŸºçŸ³ã€‘å­¦ä¹ æˆé•¿+20%</span>
                            <span class="buff">ã€æ˜Ÿç©ºé—´ã€‘è®¨è®ºæœ‰æ¦‚ç‡+5Mastery</span>
                        </div>
                    </div>
                    <div class="option-card" data-value="zonglian">
                        <div class="option-icon">âš•ï¸</div>
                        <div class="option-name">å®—æ¿‚ä¹¦é™¢</div>
                        <div class="option-desc">
                            <span class="buff">ã€åŒ»å­¦ç‰¹æƒã€‘ç”Ÿç—…ç§’å¤</span>
                            <span class="debuff">ã€ä¸¤å²¸å››åœ°ã€‘è·¨æ ¡åŒºä½“åŠ›+2</span>
                        </div>
                    </div>
                    <div class="option-card" data-value="qide">
                        <div class="option-icon">ğŸ’¼</div>
                        <div class="option-name">å¯å¾·ä¹¦é™¢</div>
                        <div class="option-desc">
                            <span class="buff">ã€å•†ä¸šå¤´è„‘ã€‘é‡‘å¸æ”¶ç›Š+30%</span>
                            <span class="debuff">ã€ä¸¤å²¸å››åœ°ã€‘è·¨æ ¡åŒºä½“åŠ›+2</span>
                        </div>
                    </div>
                    <div class="option-card" data-value="qianxuesen">
                        <div class="option-icon">ğŸš€</div>
                        <div class="option-name">é’±å­¦æ£®ä¹¦é™¢</div>
                        <div class="option-desc">
                            <span class="buff">ã€é¡¶å¤©ç«‹åœ°ã€‘åˆå§‹Mastery+15</span>
                            <span class="debuff">ã€æé™å†…å·ã€‘GPA&lt;3.5ä¼šè¢«è°ˆè¯</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="character-actions">
                <button id="btn-back-start" class="btn btn-secondary">è¿”å›</button>
                <button id="btn-start-game" class="btn btn-primary" disabled>ç¡®è®¤å¼€å§‹</button>
            </div>
        </div>
    </div>

    <script src="js/data.js"></script>
    <script>
        let selectedBackground = null;
        let selectedCollege = null;

        document.addEventListener('DOMContentLoaded', function() {
            // èƒŒæ™¯é€‰æ‹©
            document.querySelectorAll('#background-options .option-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('#background-options .option-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedBackground = this.dataset.value;
                    checkCanStart();
                });
            });

            // ä¹¦é™¢é€‰æ‹©
            document.querySelectorAll('#college-options .option-card').forEach(card => {
                card.addEventListener('click', function() {
                    document.querySelectorAll('#college-options .option-card').forEach(c => c.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedCollege = this.dataset.value;
                    checkCanStart();
                });
            });

            // è¿”å›æŒ‰é’®
            document.getElementById('btn-back-start').addEventListener('click', function() {
                window.location.href = 'index.html';
            });

            // ç¡®è®¤å¼€å§‹
            document.getElementById('btn-start-game').addEventListener('click', function() {
                if (selectedBackground && selectedCollege) {
                    // ä¿å­˜é€‰æ‹©åˆ°localStorage
                    localStorage.setItem('xjtu_character', JSON.stringify({
                        background: selectedBackground,
                        college: selectedCollege
                    }));
                    window.location.href = 'game.html';
                }
            });
        });

        function checkCanStart() {
            const canStart = selectedBackground && selectedCollege;
            document.getElementById('btn-start-game').disabled = !canStart;
        }
    </script>
</body>
</html>
